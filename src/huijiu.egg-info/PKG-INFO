Metadata-Version: 2.4
Name: huijiu
Version: 0.1.0
Summary: Huijiu prototype: sensing + vision + robotics integration with delivery artifacts
Author: Jingjing Qin
License: Proprietary
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: numpy<2.0,>=1.26
Requires-Dist: scipy<2.0,>=1.10
Requires-Dist: networkx<4.0,>=2.8
Requires-Dist: packaging<26.0,>=23.0
Requires-Dist: python-dateutil<3.0,>=2.8
Requires-Dist: pyyaml<7.0,>=6.0
Requires-Dist: matplotlib<4.0,>=3.8
Requires-Dist: pillow<13.0,>=10.0
Provides-Extra: vision
Requires-Dist: opencv-contrib-python<5.0,>=4.8; extra == "vision"
Requires-Dist: mediapipe<0.11,>=0.10; extra == "vision"
Requires-Dist: pyrealsense2==2.56.5.9235; platform_system == "Windows" and extra == "vision"
Provides-Extra: robot
Requires-Dist: pymycobot<5.0,>=4.0; extra == "robot"
Requires-Dist: ikpy<4.0,>=3.4; extra == "robot"
Requires-Dist: urdfpy==0.0.22; extra == "robot"
Requires-Dist: trimesh<5.0,>=4.0; extra == "robot"
Requires-Dist: pyrender<0.2,>=0.1; extra == "robot"
Requires-Dist: PyOpenGL<4.0,>=3.1; extra == "robot"
Requires-Dist: pyglet<3.0,>=2.0; extra == "robot"
Requires-Dist: pycollada<1.0,>=0.6; extra == "robot"
Provides-Extra: hardware
Requires-Dist: smbus2<1.0,>=0.5; extra == "hardware"
Requires-Dist: pyserial<4.0,>=3.5; extra == "hardware"
Requires-Dist: EasyMCP2221<2.0,>=1.8; extra == "hardware"
Requires-Dist: hidapi<0.15,>=0.14; extra == "hardware"
Provides-Extra: dev
Requires-Dist: pytest<9.0,>=7.0; extra == "dev"
Requires-Dist: ruff<1.0,>=0.4; extra == "dev"
Requires-Dist: black<26.0,>=24.0; extra == "dev"
Provides-Extra: all
Requires-Dist: huijiu[dev,hardware,robot,vision]; extra == "all"

# Huijiu Prototype — Integration / Platform Delivery | 慧灸原型 — 平台集成交付型作品集

**EN (Positioning):** A delivery-oriented prototype that integrates **sensing + vision + robotics** with runnable demos and delivery artifacts (contracts/runbook/accuracy).  
**中文（定位）：** 一个以“交付证据”为核心的跨域集成原型：**传感 + 视觉 + 机械臂**闭环，配套可运行 Demo 与工程化交付文档（数据契约 / Runbook / 精度实验）。

---

## Why this repo exists | 为什么做这个仓库
**EN:** This repo is built to demonstrate my capability for **Integration Engineer / Implementation Engineer / Platform Delivery (Analyst Programmer)** roles:  
- Translate ambiguous requirements into a runnable system split (interfaces, data contracts, safety loop)  
- Drive end-to-end delivery: integration, release readiness, rollback mindset, and measurable iteration  
- Integrate unfamiliar domains (sensors, camera, robot, URDF, calibration) into an engineering workflow

**中文：**用于证明我面向 **Integration/Implementation/平台交付型 Analyst Programmer** 的能力：  
- 需求到方案：边界、验收口径、系统拆分、接口与数据契约  
- 方案到交付：联调、上线准备、回滚与排障思维、可度量迭代  
- 跨域整合：把不熟的硬件/第三方系统整合到可运行、可演示的工程体系中

---

## Architecture (3 layers) | 三层架构
- **Sensing | 传感层**: MLX90614 (IR temperature), VL53L0X (distance) via I2C/USB bridge
- **Vision | 视觉层**: RealSense D455, calibration utilities, ArUco utilities (world frame experiments)
- **Robot | 机械臂层**: myCobot demos, URDF/FK/IK experiments, camera linkage (accuracy currently under improvement)
- **Integrated loop | 集成闭环**: safe orchestration loop connecting perception → decision → actuation

---

## Current Progress (3 lines per layer) | 当前进度（每层三行）
### 1) Sensing | 传感层
- Done | 已完成：传感器读取与实时输出（温度/距离）
- Doing | 正在做：数据规范化、异常值处理、安全阈值
- Next | 下一步：数据契约 v1 + 运行手册 Runbook 融合

### 2) Vision | 视觉层
- Done | 已完成：D455 预览、标定产物与工具、ArUco 工具
- Doing | 正在做：输出稳定 pose（timestamp/frame/confidence）供下游使用
- Next | 下一步：用 ArUco 定义 world frame + 做重复测量数据集（>=20）

### 3) Robot | 机械臂层
- Done | 已完成：URDF 导入、基础 myCobot demos
- Doing | 正在做：真 FK/IK + 与视觉联动（当前精度偏低）
- Next | 下一步：精度拆解文档 + 坐标链路闭环，目标验收阈值：**<= 1cm**

---

## Product context (high-level)| 产品方向图（仅作背景）
> EN: These diagrams are context only. This repo focuses on integration & delivery evidence.  
> 中文：这些图仅作为产品背景，不作为本仓库主叙事。本仓库主叙事是“交付证据”。

## Product context diagrams (optional) 
- Ecosystem (ZH): ![Ecosystem](docs/images/product-context-zh.png)
- Ecosystem (EN): ![Ecosystem](docs/images/product-context-en.png)
- More diagrams: `docs/product/`
---

## Safety note | 安全声明
> EN: This repo is a prototype to demonstrate integration & delivery capability. It is not a certified medical device.
> **中文：**本仓库为工程交付能力展示原型，不构成医疗器械认证或临床用途声明。
---

## Quick Start (Windows) — run demos from /apps | 快速开始（Windows）
### Prerequisites | 前置条件
- Python 3.10+ (recommended)
- RealSense D455 for vision demos (optional)
- myCobot for robot demos (optional)

### Setup | 环境初始化
```bash
git clone https://github.com/angelia-lab/huijiu-prototype.git
cd huijiu-prototype

python -m venv .venv
.venv\Scripts\activate

### Install (editable)
```bash
pip install -e .

#Optional features
pip install -e ".[vision]"    # RealSense + MediaPipe + OpenCV
pip install -e ".[robot]"     # myCobot + IK/URDF
pip install -e ".[hardware]"  # sensors/HID/serial
```
### Run demos | 运行 Demo
Scripts are under `src/huijiu/apps/`.
> Choose **ONE** of the following options (A or B).  
#### Option A (recommended) — run from repo root with PYTHONPATH  
**Windows (cmd):**
```bat
set PYTHONPATH=%CD%\src
python src/huijiu/apps/sensors/read_temp_demo.py
```
**Windows (PowerShell):**
```bat
$env:PYTHONPATH="$pwd\src"
python src/huijiu/apps/sensors/read_temp_demo.py
```

#### Option B — cd into src and run with relative path 
```bat
cd src
python huijiu/apps/sensors/read_temp_demo.py
```

# Representative demos | 推荐入口（覆盖三层）
```bash
# Sensors | 传感
python src/huijiu/apps/sensors/read_temp_demo.py
python src/huijiu/apps/sensors/read_distance_demo.py

# Vision | 视觉
python src/huijiu/apps/vision/d455_preview_demo.py
python src/huijiu/apps/vision/aruco_pose_demo.py

# Robot | 机械臂
python src/huijiu/apps/mybot/mycobot_basic_demo.py

# Integrated safe loop | 集成安全闭环
python src/huijiu/apps/integrated_safe_loop_demo.py

```
### Repository layout | 目录结构（高层）
- src/huijiu/apps/ runnable demos (sensors / vision / robot / integrated) | 可运行入口
- src/huijiu/core/ config / logging / orchestrator | 配置、日志、编排
- src/huijiu/sensors/ sensor drivers + manager | 传感器驱动与管理
- src/huijiu/vision/ D455 + ArUco utils + calibration scripts | 视觉与标定
- src/huijiu/robot/ myCobot interface + URDF work | 机械臂接口与 URDF
- src/hardware/ calibration outputs + URDF files | 标定产物与 URDF
- docs/ delivery artifacts (contracts/runbook/accuracy) + diagrams | 交付物与图

### Delivery artifacts (for recruiters) | 交付物
- Planned/ongoing (will be updated progressively):
- docs/data-contract.md — temp/target/command/safety | 数据契约（字段、单位、异常）
- docs/runbook.md — stop/rollback/disconnect/anomaly/troubleshooting | 运行手册（急停/回滚/排障）
- docs/accuracy.md — coordinate frames / hand-eye / URDF / acceptance criteria | 精度拆解与验收口径
